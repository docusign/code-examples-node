<%- include("../../partials/examplesHead") %>
<h4>4. Adding form to a room.</h4>
<p>This example adds form to a room.</p>

<%- include("../../partials/docBody") %>

<p>API methods used:
  <a target='_blank' href="https://developers.docusign.com/rooms-api/reference/Rooms/Rooms/GetRooms">Rooms: GetRooms</a>,
    <a target='_blank' href="https://developers.docusign.com/rooms-api/reference/Forms/FormLibraries/GetFormLibraries">FormLibraries: GetFormLibraries</a>,
    <a target='_blank' href="https://developers.docusign.com/rooms-api/reference/Forms/FormLibraries/GetFormLibraryForms">FormLibraries: GetFormLibraryForms</a> and
    <a target='_blank' href="https://developers.docusign.com/rooms-api/reference/Rooms/Rooms/AddFormToRoom">Rooms: AddFormToRoom</a>.
</p>
<%- include("../../partials/gitSource") %>
<% if (rooms && rooms.length > 0) { %>
<form class="eg" action="" method="post" data-busy="form">
  <div class="form-group">
    <label for="roomId">Room</label>
    <select id="roomId" name="roomId" class="form-control" required>
      <% rooms.forEach( room => { %>
        <option value="<%= room.roomId %>" selected> <%= room.name %> </option>
      <% }) %>
    </select>
  </div>
  <div class="form-group">
    <label for="libraryFormId">Form</label>
    <select id="libraryFormId" name="libraryFormId" class="form-control" required>
      <% forms.forEach( form => { %>
        <option value="<%= form.libraryFormId %>" selected> <%= form.name %> </option>
      <% }) %>
    </select>
</div>
  <input type="hidden" name="_csrf" value="<%- csrfToken %>">
  <button type="submit" class="btn btn-docu">Submit</button>
</form>
<% } else { %>
  <p>Problem: please first create a room using <a href="eg001">example 1.</a> <br/>
   Thank you.</p>
   
<form class="eg" action="eg001" method="get">
    <button type="submit" class="btn btn-docu">Continue</button>
</form>
<% } %>
<%- include("../../partials/examplesFoot") %>
